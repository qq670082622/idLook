//
//  MsgMainCell.m
//  IDLook
//
//  Created by HYH on 2018/5/17.
//  Copyright © 2018年 HYH. All rights reserved.
//

#import "MsgMainCellA.h"

@interface MsgMainCellA ()
@property(nonatomic,strong)UIView *bg;
@property(nonatomic,strong)UILabel *orderTypeLab;
@property(nonatomic,strong)UILabel *stateLab;
@property(nonatomic,strong)UIImageView *icon;
@property(nonatomic,strong)UILabel *titleLab;
@property(nonatomic,strong)UILabel *desc1;
@property(nonatomic,strong)UILabel *desc2;
@end

@implementation MsgMainCellA

-(UIView*)bg
{
    if (!_bg) {
        _bg=[[UIView alloc]init];
        _bg.backgroundColor=[UIColor whiteColor];
        _bg.layer.cornerRadius=4.0;
        _bg.layer.shadowOffset = CGSizeMake(8, 8);
        _bg.layer.shadowOpacity = 1.0;
        _bg.layer.shadowColor = [[UIColor colorWithHexString:@"#91ADC2"] colorWithAlphaComponent:0.05].CGColor;
        [self.contentView addSubview:_bg];
        [_bg mas_makeConstraints:^(MASConstraintMaker *make) {
            make.top.mas_equalTo(self.contentView);
            make.centerX.mas_equalTo(self.contentView);
            make.left.mas_equalTo(self.contentView).offset(10);
            make.bottom.mas_equalTo(self.contentView);
        }];
        
        UIView *lineV= [[UIView alloc]init];
        lineV.backgroundColor=[UIColor colorWithHexString:@"#F7F7F7"];
        [_bg addSubview:lineV];
        [lineV mas_makeConstraints:^(MASConstraintMaker *make) {
            make.top.mas_equalTo(_bg).offset(40);
            make.left.mas_equalTo(_bg).offset(15);
            make.centerX.mas_equalTo(_bg);
            make.height.mas_equalTo(0.5);
        }];
    }
    return _bg;
}

-(UILabel*)orderTypeLab
{
    if (!_orderTypeLab) {
        _orderTypeLab=[[UILabel alloc]init];
        _orderTypeLab.font=[UIFont systemFontOfSize:13.0];
        _orderTypeLab.textColor=[UIColor colorWithHexString:@"#666666"];
        [self.contentView addSubview:_orderTypeLab];
        [_orderTypeLab mas_makeConstraints:^(MASConstraintMaker *make) {
            make.top.mas_equalTo(self.bg).offset(15);
            make.left.mas_equalTo(self.bg).offset(15);
        }];
    }
    return _orderTypeLab;
}

-(UILabel*)stateLab
{
    if (!_stateLab) {
        _stateLab=[[UILabel alloc]init];
        _stateLab.font=[UIFont systemFontOfSize:13.0];
        _stateLab.textColor=Public_Red_Color;
        [self.contentView addSubview:_stateLab];
        [_stateLab mas_makeConstraints:^(MASConstraintMaker *make) {
            make.top.mas_equalTo(self.bg).offset(15);
            make.right.mas_equalTo(self.bg).offset(-15);
        }];
    }
    return _stateLab;
}

-(UIImageView*)icon
{
    if (!_icon) {
        _icon=[[UIImageView alloc]init];
        _icon.layer.masksToBounds=YES;
        _icon.layer.cornerRadius=2.0;
        _icon.contentMode=UIViewContentModeScaleAspectFill;
        [self.contentView addSubview:_icon];
        [_icon mas_makeConstraints:^(MASConstraintMaker *make) {
            make.left.mas_equalTo(self.bg).offset(15);
            make.bottom.mas_equalTo(self.bg).offset(-15);
            make.size.mas_equalTo(CGSizeMake(60, 60));
        }];
    }
    return _icon;
}

-(UILabel*)titleLab
{
    if (!_titleLab) {
        _titleLab=[[UILabel alloc]init];
        _titleLab.font=[UIFont systemFontOfSize:15.0];
        _titleLab.textColor=Public_Text_Color;
        [self.contentView addSubview:_titleLab];
        [_titleLab mas_makeConstraints:^(MASConstraintMaker *make) {
            make.top.mas_equalTo(self.icon);
            make.left.mas_equalTo(self.icon.mas_right).offset(10);
        }];
    }
    return _titleLab;
}

-(UILabel*)desc1
{
    if (!_desc1) {
        _desc1=[[UILabel alloc]init];
        _desc1.numberOfLines=0;
        _desc1.font=[UIFont systemFontOfSize:12.0];
        _desc1.textColor=[UIColor colorWithHexString:@"#999999"];
        [self addSubview:_desc1];
        [_desc1 mas_makeConstraints:^(MASConstraintMaker *make) {
            make.left.mas_equalTo(self.icon.mas_right).offset(10);
            make.bottom.mas_equalTo(self.desc2.mas_top).offset(-5);
        }];
    }
    return _desc1;
}

-(UILabel*)desc2
{
    if (!_desc2) {
        _desc2=[[UILabel alloc]init];
        _desc2.numberOfLines=0;
        _desc2.font=[UIFont systemFontOfSize:12.0];
        _desc2.textColor=[UIColor colorWithHexString:@"#999999"];
        [self addSubview:_desc2];
        [_desc2 mas_makeConstraints:^(MASConstraintMaker *make) {
            make.left.mas_equalTo(self.icon.mas_right).offset(10);
            make.bottom.mas_equalTo(self.icon);
        }];
    }
    return _desc2;
}

-(void)reloadUIWithModel:(OrderModel *)model
{
    [self bg];
    self.orderTypeLab.text = model.ordertypeName;
    if (model.ordertype==OrderTypeAudition)
    {
        self.stateLab.text=[model getOrderStateWihtOrderInfo:model withUserType:[UserInfoManager getUserType]];
        [self.icon sd_setImageWithUrlStr:model.actorHead placeholderImage:[UIImage imageNamed:@"default_home"]];
        self.titleLab.text=[NSString stringWithFormat:@"%@  %@",model.actorNick,model.projectName];
        self.desc1.text=[NSString stringWithFormat:@"试镜方式：%@",[model getAuditionWayWithType:model.auditionType]];
        self.desc2.text=[NSString stringWithFormat:@"截止日期：%@",model.latestworktime];
    }
    else if (model.ordertype==OrderTypeShot)
    {
        self.stateLab.text=[model getOrderStateWihtOrderInfo:model withUserType:[UserInfoManager getUserType]];
        [self.icon sd_setImageWithUrlStr:model.actorHead placeholderImage:[UIImage imageNamed:@"default_home"]];
        self.titleLab.text=[NSString stringWithFormat:@"%@  %@",model.actorNick,model.projectName];
        self.desc1.text=[NSString stringWithFormat:@"拍摄时间：%@",model.datereservation];
        self.desc2.text=[NSString stringWithFormat:@"截止日期：%@",model.datereservationend];
    }
    else if (model.ordertype==OrderTypeMirror)
    {
        self.stateLab.text=@"等待报价";
        self.icon.image=[UIImage imageNamed:@"huge_01.jpg"];
        self.titleLab.text=@"胡歌 TVC肖像续约";
        self.desc1.text=@"微出镜周期：月出镜";
        self.desc2.text=@"微出镜区域区域：中国大陆全区域";
    }
    else if (model.ordertype==OrderTypeTrial)
    {
        self.stateLab.text=@"等待报价";
        self.icon.image=[UIImage imageNamed:@"huge_03.jpg"];
        self.titleLab.text=@"胡歌 TVC试葩间项目";
        self.desc1.text=@"素材使用周期：1年";
        self.desc2.text=@"素材使用区域：中国大陆全区域";
    }
    else if (model.ordertype==OrderTypeRenewal)
    {
        self.stateLab.text=@"等待接单";
        self.icon.image=[UIImage imageNamed:@"huge_02.jpg"];
        self.titleLab.text=@"胡歌 TVC肖像续约";
        self.desc1.text=@"续约周期：1年";
        self.desc2.text=@"续约范围：中国大陆";
    }
}

@end
