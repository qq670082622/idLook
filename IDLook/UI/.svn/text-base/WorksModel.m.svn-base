//
//  WorksModel.m
//  IDLook
//
//  Created by HYH on 2018/5/30.
//  Copyright © 2018年 HYH. All rights reserved.
//

#import "WorksModel.h"

@implementation WorksModel

//作品数据解析
-(id)initWithWorksDic:(NSDictionary*)dic
{
    if (self=[super init]) {
        
        self.url = (NSString*)safeObjectForKey(dic, @"workvideourl");
        self.cutvideo = (NSString*)safeObjectForKey(dic, @"cutvideo");
        self.creativeid    = [NSString stringWithFormat:@"%ld",(long)[(NSNumber *)safeObjectForKey(dic, @"creativeid") integerValue]];
        self.type = (NSString*)safeObjectForKey(dic, @"workvideotype");
        self.keyword = (NSString*)safeObjectForKey(dic, @"keyword");

        int time =  [(NSNumber*)safeObjectForKey(dic, @"timevideo") intValue];
        self.timevideo = [PublicManager timeFormatted:time];
        
        self.microtype = -1;
        
        self.bitrate =  [(NSNumber*)safeObjectForKey(dic, @"bitrate") floatValue];
        self.size =  [(NSNumber*)safeObjectForKey(dic, @"size") floatValue];
        self.widthpx =[(NSNumber*)safeObjectForKey(dic, @"widthpx") floatValue];
        self.heightpx =[(NSNumber*)safeObjectForKey(dic, @"heightpx") floatValue];
        self.format = (NSString*)safeObjectForKey(dic, @"format");
        self.status =  [(NSNumber*)safeObjectForKey(dic, @"status") integerValue];

    }
    return self;
}

-(id)initWithMirrDic:(NSDictionary *)dic
{
    if (self=[super init]) {
        
        self.url = (NSString*)safeObjectForKey(dic, @"microworkurl");
        self.title = (NSString*)safeObjectForKey(dic, @"worktitle");
        self.microtype = [(NSNumber *)safeObjectForKey(dic, @"microtype") integerValue];
        self.cutvideo = (NSString*)safeObjectForKey(dic, @"cutvideo");
        self.creativeid    = [NSString stringWithFormat:@"%ld",(long)[(NSNumber *)safeObjectForKey(dic, @"creativeid") integerValue]];
        
        int time =  [(NSNumber*)safeObjectForKey(dic, @"timevideo") intValue];
        self.timevideo = [PublicManager timeFormatted:time];
        
        self.bitrate =  [(NSNumber*)safeObjectForKey(dic, @"bitrate") floatValue];
        self.size =  [(NSNumber*)safeObjectForKey(dic, @"size") floatValue];
        self.widthpx =[(NSNumber*)safeObjectForKey(dic, @"widthpx") floatValue];
        self.heightpx =[(NSNumber*)safeObjectForKey(dic, @"heightpx") floatValue];
        self.format = (NSString*)safeObjectForKey(dic, @"format");
        self.status =  [(NSNumber*)safeObjectForKey(dic, @"status") integerValue];

    }
    return self;
}

//过往作品
-(id)initWithPastWorkDic:(NSDictionary*)dic
{
    if (self=[super init]) {
        
        self.url = (NSString*)safeObjectForKey(dic, @"pturl");
        self.title = (NSString*)safeObjectForKey(dic, @"title");
        self.microtype = [(NSNumber *)safeObjectForKey(dic, @"type") integerValue];
        self.cutvideo = (NSString*)safeObjectForKey(dic, @"cutvideo");
        self.creativeid    = [NSString stringWithFormat:@"%ld",(long)[(NSNumber *)safeObjectForKey(dic, @"creativeid") integerValue]];
        self.type = (NSString*)safeObjectForKey(dic, @"producetype");
        self.keyword = (NSString*)safeObjectForKey(dic, @"keyword");
        
        int time =  [(NSNumber*)safeObjectForKey(dic, @"timevideo") intValue];
        self.timevideo = [PublicManager timeFormatted:time];
        
        self.bitrate =  [(NSNumber*)safeObjectForKey(dic, @"bitrate") floatValue];
        self.size =  [(NSNumber*)safeObjectForKey(dic, @"size") floatValue];
        self.widthpx =[(NSNumber*)safeObjectForKey(dic, @"widthpx") floatValue];
        self.heightpx =[(NSNumber*)safeObjectForKey(dic, @"heightpx") floatValue];
        self.format = (NSString*)safeObjectForKey(dic, @"format");
        self.status =  [(NSNumber*)safeObjectForKey(dic, @"status") integerValue];

    }
    return self;
}

@end
