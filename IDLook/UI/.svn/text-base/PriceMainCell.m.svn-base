//
//  PriceMainCell.m
//  IDLook
//
//  Created by HYH on 2018/7/4.
//  Copyright © 2018年 HYH. All rights reserved.
//

#import "PriceMainCell.h"

@interface PriceMainCell ()
@property(nonatomic,strong)UIView *bg;
@property(nonatomic,strong)UILabel *titleLab;
@property(nonatomic,strong)UILabel *priceLab;
@property(nonatomic,strong)UIImageView *icon;
@property(nonatomic,strong)UIImageView *arrow;

@end

@implementation PriceMainCell



-(UIView*)bg
{
    if (!_bg) {
        _bg=[[UIView alloc]init];
        [self.contentView addSubview:_bg];
        _bg.layer.cornerRadius=5.0;
//        _bg.layer.masksToBounds=YES;
        _bg.layer.shadowOffset = CGSizeMake(8, 8);
        _bg.layer.shadowOpacity = 1.0;
        _bg.layer.shadowColor = [[UIColor colorWithHexString:@"#090E13"] colorWithAlphaComponent:0.08].CGColor;
        _bg.backgroundColor=[UIColor whiteColor];
        [_bg mas_makeConstraints:^(MASConstraintMaker *make) {
            make.left.mas_equalTo(self.contentView).offset(15);
            make.right.mas_equalTo(self.contentView).offset(-15);
            make.top.mas_equalTo(self.contentView).offset(7.5);
            make.bottom.mas_equalTo(self.contentView).offset(-7.5);
        }];
        
    }
    return _bg;
}

-(UIImageView*)icon
{
    if (!_icon) {
        _icon=[[UIImageView alloc]init];
        [self.contentView addSubview:_icon];
        [_icon mas_makeConstraints:^(MASConstraintMaker *make) {
            make.left.mas_equalTo(self.bg).offset(15);
            make.centerY.mas_equalTo(self.bg);
        }];
    }
    return _icon;
}

-(UILabel*)titleLab
{
    if (!_titleLab) {
        _titleLab=[[UILabel alloc]init];
        [self.contentView addSubview:_titleLab];
        _titleLab.font=[UIFont systemFontOfSize:15.0];
        _titleLab.textColor=Public_Text_Color;
        [_titleLab mas_makeConstraints:^(MASConstraintMaker *make) {
            make.left.mas_equalTo(self.icon.mas_right).offset(10);
            make.centerY.mas_equalTo(self.icon);
        }];
    }
    return _titleLab;
}



-(UILabel*)priceLab
{
    if (!_priceLab) {
        _priceLab=[[UILabel alloc]init];
        [self.contentView addSubview:_priceLab];
        _priceLab.font=[UIFont systemFontOfSize:15.0];
        _priceLab.textColor=[UIColor colorWithHexString:@"#666666"];
        [_priceLab mas_makeConstraints:^(MASConstraintMaker *make) {
            make.right.mas_equalTo(self.bg).offset(-32);
            make.centerY.mas_equalTo(self.icon);
        }];
    }
    return _priceLab;
}


-(UIImageView*)arrow
{
    if (!_arrow) {
        _arrow=[[UIImageView alloc]init];
        [self.contentView addSubview:_arrow];
        _arrow.image=[UIImage imageNamed:@"center_arror_icon"];
        [_arrow mas_makeConstraints:^(MASConstraintMaker *make) {
            make.right.mas_equalTo(self.bg).offset(-15);
            make.centerY.mas_equalTo(self.icon);
        }];
    }
    return _arrow;
}

-(void)reloadUIWithModel:(PriceModel *)model
{
    [self bg];
    [self arrow];
    
    NSString *str = [NSString stringWithFormat:@"￥%ld/天",model.price];
    NSMutableAttributedString * attStr = [[NSMutableAttributedString alloc] initWithString:str];
    [attStr addAttributes:@{NSForegroundColorAttributeName:Public_Red_Color,NSFontAttributeName:[UIFont boldSystemFontOfSize:18.0]} range:NSMakeRange(0,str.length-2)];
    self.priceLab.attributedText=attStr;
    
    self.icon.image=[UIImage imageNamed:[NSString stringWithFormat:@"price_icon_%ld",model.subType]];

    self.titleLab.text = model.title;

}

@end
